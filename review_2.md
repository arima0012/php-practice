# PHP練習問題② 説明

## 下記for文の`$i = 0`, `$i <= 4`, `$i++`, `echo $i`がそれぞれ、どの順番で処理されるか、また、何をしているのかを説明してください。

```
for ($i = 0; $i <= 4; $i++) {
    echo $i;
}
```

1. 「$i = 0」：変数$iを定義してint型の0を代入。
2. 「$i <= 4」：$iの値が4以下なら処理を実行。
3. 「echo $i」：$iの値を出力。
4. 「$i++」：for文の処理を実行し終えたら加算子で$iに1を足し、その後ループして「$i <= 4」の条件式に戻る。$iが5になった時for文の処理が実行されず終了する。

## for文とforeachはどのように使い分けるのか説明してください。
- forとforeachは繰り返し処理を行う点で同じだが、forでは主に任意の条件で繰り返し処理を行いやすく、foreachでは主に配列や連想配列に対して処理を行いやすい。foreachは配列とオブジェクトに対してのみ実行でき、特にforeachは配列からキーとバリューを取り出して格納する変数を定義できるため、連想配列に対して使いやすい。

## クラスとインスタンスの違いについて説明してください。
- クラスは生成したいオブジェクトに関する情報をまとめた設計図のことで、インスタンス（オブジェクト）はクラスという設計図をもとに生成した実体のこと。インスタンスはnewを用いてクラスを初期化して実体化したもの。

## プロパティとメソッドとはなにか説明してください。
- プロパティはクラス内で定義した変数のことで、インスタンスにまつわる情報を表す。一方でメソッドはクラス内で定義した関数のことで、インスタンスの振る舞いを表す。

## コンストラクタとはなにか、また、なぜ必要なのかを説明してください。
- コンストラクタはクラスをインスタンス化すると同時に自動的に実行される特殊なメソッドのことで、インスタンスの初期状態を定義できる。具体的には、インスタンスの初期状態の情報（変数）や振る舞い（関数）をまとめて定義して実行できるため、記述の手間が省けてコードがスッキリする。

## 下記コンストラクター内の2行が何をしているのか、また、なぜこの2行が必要なのか説明してください。
```
public function __construct($id, $name)
{
    $this->studentId = $id;
    $this->studentName = $name;
}
```
- コンストラクタの仮引数で定義したローカル変数の$idと$nameに、インスタンス化の際の引数から受け取った値を代入し、それぞれ値に何も入ってないプロパティに受け取った値を代入している。$thisはそのクラスのインスタンスを指しており、クラス内でインスタンスを用いる際に代用する変数のことで、アロー演算子を用いてインスタンスからプロパティにアクセスしてプロパティ内の値を取得できるよう定義されている。

## クラスがなぜ必要なのか説明してください。
- クラスは、頻繁に使用するかつ共通のデータや処理を一か所にまとめて定義することができ、管理がしやすい、使いまわしやすい、コードをスッキリさせることができるなどの利点がある。

## `DateTime::modify`メソッドの返り値を教えてください。
- DateTime::modifyメソッドはDateTimeクラスで定義されたメソッドで、DateTimeインスタンスが表す日付に対して加算または減算する形で引数に指定し、DateTimeインスタンスのタイムスタンプを変更することができる。

## `DateTime::format`メソッドと`DateInterval::format`メソッドの違いを教えてください。
- DateTime::formatメソッドはDateTimeクラスで定義されたメソッドで、DateTimeインスタンスが表す日付や時刻の表示形式を指定できる。一方でDateInterval::formatメソッドはDateIntervalクラスで定義されたメソッドで、DateIntervalインスタンスが表すDateTimeクラス同士の日付間隔の表示形式を指定できる。DateIntervalクラスのインスタンスはDateTimeクラスのdiffメソッドで生成できる。

## 下記コード3行目のformatメソッドの返り値をPHPのマニュアルから調べる手順を具体的に説明してください。
```
$now = new DateTime();
$prev = new DateTime('2000-1-1');
echo $prev->diff($now)->format('%a')
```

- $nowと$prevにそれぞれDateTimeインスタンスを代入しており、$prev->diff($now)とあるので、DateTimeインスタンスを格納した変数からdiffメソッドにアクセスしているので、DateTimeクラスについて調べ、そのクラス内に定義されたメソッドの中からdiffメソッドを探す。クラス概要の下の方にpublic diffが書かれているので、そのリンクをクリックしてDateTimeのdiffメソッドのページに移行してどんな関数か調べる。するとページ先頭に「ふたつのDateTimeオブジェクトの差を返す」と書いてあり、下の戻り値欄を見ると「ふたつの日付の差をあらわすDateIntervalオブジェクトを返します」と書いてある。パラメータ欄にはdiffメソッドの引数にとして比較する日付を指定する必要があることが分かる。つまり、$prevからdiffメソッドにアクセスして$nowと比較（二つのDateTimeインスタンスの日付を比較）して、その日付差を表すDateIntervalインスタンスを生成している。「$prev->diff($now)」の部分がDateIntervalインスタンスに変換され、そこからformatメソッドにアクセスしている。この時点でDateIntervalインスタンス->format()になっているので、今度はDateIntervalクラスで定義されたformatメソッドにアクセスしていることが分かるため、DateIntervalクラスについて調べ、そのクラス概要の一番下にpublic formatが定義されているので、そのリンクをクリックして調べる。戻り値欄を見ると「フォーマットされた間隔を返します」と書いてあり、DateIntervalクラスが表す日付差の表示形式を指定して返すことが分かる。そしてパラメータ欄を見ると引数に指定する文字形式が定められており、その一覧の中から('%a')の意味について調べる。「%」は最初に必ず書く必要があり、日付差の数値を示すことが分かる。そして「a」について調べると、「DateTime::diff() の結果に使った場合は総日数、それ以外の場合は (unknown)」と書かれており、今回はDateTime::diffで日付差を取得しているため、('%a')は$prevと$nowの日付差の総日数を表すことが分かる。なので、今回の$prev->diff($now)->format('%a')は、今日の日付である$nowと2001年1月1日である$prevの日付差の総日数を返り値としていることが分かる。